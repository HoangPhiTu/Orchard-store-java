# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
spring.application.name=orchard-store-backend
server.port=8080
server.servlet.context-path=/

# =============================================================================
# SUPABASE DATABASE CONFIGURATION
# =============================================================================
# Project: YOUR_PROJECT_ID
# Project URL: https://YOUR_PROJECT_ID.supabase.co
# Lấy thông tin từ: Supabase Dashboard > Settings > Database
spring.datasource.url=jdbc:postgresql://db.YOUR_PROJECT_ID.supabase.co:5432/postgres?sslmode=require&connectTimeout=30&socketTimeout=30
spring.datasource.username=postgres
spring.datasource.password=YOUR_DATABASE_PASSWORD
spring.datasource.driver-class-name=org.postgresql.Driver

# =============================================================================
# CONNECTION POOL SETTINGS (HikariCP)
# =============================================================================
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=60000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.leak-detection-threshold=60000
spring.datasource.hikari.connection-test-query=SELECT 1
spring.datasource.hikari.validation-timeout=5000

# =============================================================================
# JPA & HIBERNATE CONFIGURATION
# =============================================================================
# DDL mode: validate (chỉ validate), none (không làm gì), update (tự động tạo/cập nhật bảng)
# Dùng 'validate' hoặc 'none' cho production, 'update' cho development
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.time_zone=Asia/Ho_Chi_Minh
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.properties.hibernate.generate_statistics=false

# =============================================================================
# JWT CONFIGURATION (Thêm nếu cần)
# =============================================================================
# Supabase JWT Secrets
# Lấy từ: Supabase Dashboard > Settings > API
app.jwt.secret=YOUR_JWT_SECRET
app.jwt.anon-public=YOUR_ANON_PUBLIC_KEY
app.jwt.service-role=YOUR_SERVICE_ROLE_KEY
app.jwt.expiration-ms=3600000
app.jwt.refresh-token.expiration-ms=604800000

# =============================================================================
# CORS & FRONTEND CONFIGURATION
# =============================================================================
frontend.url=http://localhost:3000
cors.allowed-origins=${frontend.url}

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
logging.level.com.orchard=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
# Logging file path (relative to project root)
logging.file.name=logs/orchard-backend.log
# Logs sẽ được lưu tại: orchard-store-backend/logs/orchard-backend.log

# =============================================================================
# EMAIL CONFIGURATION (Thêm nếu cần)
# =============================================================================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=your-email@gmail.com
spring.mail.password=your-app-password
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
spring.security.oauth2.client.registration.google.client-id=your-google-client-id
spring.security.oauth2.client.registration.google.client-secret=your-google-client-secret

